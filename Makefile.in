first :: lib tools

java: lib
	make -C biosig4c++ java

python: lib
	make -C biosig4c++ python

lib:
	make -C biosig4c++ lib

tools: lib
	make -C biosig4c++ tools

mma mathematica: lib
	make -C biosig4c++/mma

mex4m matlab: lib
	make -C biosig4c++/mex mex4m

mex4o octave: lib
	make -C biosig4c++/mex mex4o

R: lib
	make -C biosig4c++ R

install :: tools
	make -C biosig4c++ install

clean:
	make -C biosig4c++ clean

distclean:
	make -C biosig4c++ distclean



ifneq (:,@JAVA@)
all: java
endif

ifneq (:,@MATHEMATICA@)
first ::
	make -C biosig4c++/mma
install ::
	make -C biosig4c++ install_mma
uninstall ::
	make -C biosig4c++ uninstall_mma
endif

ifneq (:,@MATLAB@)
MATLAB_MEX := $(shell dirname @MATLAB@)/mex
first ::
	make -C biosig4c++/mex mex4m
install ::
	make -C biosig4c++ install_mex
uninstall ::
	make -C biosig4c++ uninstall_mex
endif

ifneq (:,@OCTAVE@)
ifneq (:,@MKOCTFILE@)
first ::
	make -C biosig4c++ mexbiosig
install ::
	-@OCTAVE@ --eval "pkg install biosig4c++/mex/mexbiosig.src.tar.gz"
uninstall ::
	-@OCTAVE@ --eval "pkg uninstall mexbiosig"
endif
endif

ifneq (:,@PYTHON@)
first ::
	PYTHON=@PYTHON@ make -C biosig4c++/python build
install ::
	PYTHON=@PYTHON@ make -C biosig4c++/python install
endif
ifneq (:,@PYTHON2@)
first ::
	PYTHON=@PYTHON2@ make -C biosig4c++/python build
install ::
	PYTHON=@PYTHON2@ make -C biosig4c++/python install
endif
ifneq (:,@PYTHON3@)
first ::
	PYTHON=@PYTHON3@ make -C biosig4c++/python build
install ::
	PYTHON=@PYTHON3@ make -C biosig4c++/python install
endif

ifneq (:,@R@)
first ::
	make -C biosig4c++ R
install ::
	make -C biosig4c++ R
endif

all: first #win32 win64 #sigviewer #win32/sigviewer.exe win64/sigviewer.exe #biosig_client biosig_server mma java tcl perl php ruby #sigviewer


